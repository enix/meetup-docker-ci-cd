<html>
	<head>
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css">
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<link rel="stylesheet" href="enix.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-markdown>
					<textarea data-template>
						![docker](docker.svg) <!-- .element: class="logo docker" -->
						![gitlab](gitlab.svg) <!-- .element: class="logo gitlab" -->

						Mettre en place une **intégration continue** et un **déploiement continu** en moins de 10mn grace à **Gitlab** et **Docker**

						<small>Alexandre Buisine [@alexbuisine](https://twitter.com/alexbuisine)</small>

						![enix](enix.svg) <!-- .element: class="logo enix" -->
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						# Les ingrédients
						* Docker *[docker.com](https://www.docker.com/)*
						* Gitlab *[gitlab.com](https://about.gitlab.com/product/)*
						* Intégration continue *[Wikipédia](https://fr.wikipedia.org/wiki/Int%C3%A9gration_continue)*
						* Déploiement continu *[Wikipédia](https://fr.wikipedia.org/wiki/Livraison_continue)*
						* <!-- .element: class="fragment" -->  et un **projet** à passer en CI/CD ! 
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						# L'exemple du jour
						* cette présentation est disponible sur [github](https://github.com/enix/meetup-docker-ci-cd)
						* elle utilise le framework [revealjs](https://revealjs.com/)
						* c'est parfait pour ce qui va suivre
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						On prend l'hypothèse que l'application est déjà en conteneur
```Dockerfile
FROM node:8

EXPOSE 8000

WORKDIR /
RUN git clone --depth 1 https://github.com/hakimel/reveal.js.git

WORKDIR /reveal.js
ENV NPM_CONFIG_LOGLEVEL info
RUN npm install

COPY www/ ./

CMD ["npm", "start"]
```
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						Le **build** _aka la mise en conteneur_

						dans le principe ca donne ca
```yaml
stages:
  - build

job_build_a_la_sauce_docker:
  stage: build
  script:
    - docker build -t 
    - docker push
```
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						Le **build** _aka la mise en conteneur_

						dans les faits c'est plutot ca
```yaml
image: docker:latest

stages:
  - build

job_build_a_la_sauce_docker:
  stage: build
  script:
    - docker info
    - docker login -u gitlab-ci-token -p $CI_JOB_TOKEN $CI_REGISTRY
    - docker build -t 
    - docker push
```
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						Test
						lien github
						astuce
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						Deploy
						lien github
						astuce
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						Autre lien à regarder
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						Offre enix
						formation Kube
						formation Docker
					</textarea>
				</section>

			</div>
		</div>
		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>
		<script>
			Reveal.initialize({
				history: true,
				dependencies: [
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
					]
			});
		</script>
	</body>
</html>
